{% comment %}
    Renders an article card for a given blog with settings to either show the image or not.

    Accepts:
    - blog: {Object} Blog object
    - article: {Object} Article object
    - media_aspect_ratio: {String} The setting changes the aspect ratio of the article image, if shown
    - media_height: {String} The setting changes the height of the article image. Overrides media_aspect_ratio.
    - show_image: {String} The setting either show the article image or not. If it's not included it will show the image by default
    - show_date: {String} The setting either show the article date or not. If it's not included it will not show the image by default
    - show_author: {String} The setting either show the article author or not. If it's not included it will not show the author by default
    - show_badge: {String} The setting either show the blog badge or not.
    - lazy_load: {Boolean} Image should be lazy loaded. Default: true (optional)

    Usage:
    {% render 'article-card' blog: blog, article: article, show_image: section.settings.show_image %}
{% endcomment %}

{%- if article and article != empty -%}

  {% assign snippet_name = 'article' %}
  {% assign snippet_id = snippet_name | append: '--' | append: article.id -%}

  {% assign autor = article.author | default: '' %}
  {% assign date = article.published_at %}
  {% assign image = article.image | default: false %}
  {% assign title = article.title | default: '' %}
  {% assign url = article.url | default: '' %}

  <article class="{{ snippet_name }}" id="{{ snippet_id }}">
    <div class="{{ snippet_name }}__image">
      <a class="{{ snippet_name }}__image-link" href="{{ url }}" title="{{ title }}" target="_self">
        {%
          render 'content--lazyload-image',
          background: true,
          image: image,
        %}
      </a>
    </div>
    <div class="{{ snippet_name }}__content">
      <time class="{{ snippet_name }}__date" datetime="{{ date }}">{{ date }}</time>
      <strong class="{{ snippet_name }}__title">
        <a class="{{ snippet_name }}__title-link" href="{{ url }}" title="{{ title }}" target="_self">{{ title }}</a>
      </strong>
      <div class="{{ snippet_name }}__cta">
        <a class="{{ snippet_name }}__cta-link link--text" href="{{ url }}" title="{{ title }}" target="_self">Read More</a>
      </div>
    </div>
  </article>

{%- endif -%}
